
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Red9_AnimationUtils &mdash; Red9 v2.0 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Red9 v2.0 documentation" href="../index.html" />
    <link rel="next" title="Red9_Audio" href="Red9_Audio.html" />
    <link rel="prev" title="Welcome to Red9’s documentation!" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Red9_Audio.html" title="Red9_Audio"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to Red9’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Red9 v2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="red9-animationutils">
<h1>Red9_AnimationUtils<a class="headerlink" href="#red9-animationutils" title="Permalink to this headline">¶</a></h1>
<p>Red9_AnimationUtils deals with all the key, attribute and time management
within Red9. Anything from copying keys between processed hierarchies
to Mirroring animation data.</p>
<span class="target" id="module-Red9.core.Red9_AnimationUtils"></span><p>Code examples:</p>
<div class="section" id="processnodes">
<h2>ProcessNodes<a class="headerlink" href="#processnodes" title="Permalink to this headline">¶</a></h2>
<blockquote>
All of the functions which have the ProcessNodes call share the same
underlying functionality as described below. This is designed to process the
given input nodes in a consistent manor across all the functions.
Params: &#8216;nodes&#8217; and &#8216;filterSettings&#8217; are treated as special and build up a
MatchedNode object that contains a tuple of matching pairs based on the given settings.</blockquote>
</div>
<div class="section" id="animfunctions-example">
<h2>AnimFunctions example:<a class="headerlink" href="#animfunctions-example" title="Permalink to this headline">¶</a></h2>
<blockquote>
<p>The main AnimFunctions class is designed to run with an r9Core.FilterNode
object that is responsible for how we process hierarchies. If one isn&#8217;t passed
as an arg then the code simply processes the &#8216;nodes&#8217; args in zipped pairs. 
See the documentation on the r9Core.MatchedNodeInputs for more detail.</p>
<p>All the AnimFunctions such as copyKeys, copyAttrs etc use the same base setup</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">Red9_CoreUtils</span> <span class="kn">as</span> <span class="nn">r9Core</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">maya.cmds</span> <span class="kn">as</span> <span class="nn">cmds</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#===========================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># When Processing hierarchies:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#===========================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># The Filter_Settings object required for hierarchy processing is now bound to </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># the class directly so you no longer need to create a filterSettigns object directly!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Lets set the filter to process nodes with a given attr &#39;myControl&#39; who&#39;s type is &#39;nurbscurve&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">=</span><span class="n">r9Anim</span><span class="o">.</span><span class="n">AnimFunctions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">r9Core</span><span class="o">.</span><span class="n">FilterNode_Settings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">nodeTypes</span> <span class="o">=</span><span class="s">&#39;nurbsCurve&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">searchAttrs</span> <span class="o">=</span> <span class="s">&#39;myControl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">printSettings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># now run any of the AnimFunctions and pass in nodes which with the filter active</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># as above would be the 2 root nodes of the hierarchies to filter</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">copyAttributes</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">snapTransform</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">time</span><span class="o">=</span><span class="n">r9Anim</span><span class="o">.</span><span class="n">timeLineRangeGet</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#==============================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># When processing simple objects:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#==============================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># If you simply ignore the filterSettings you can just process given nodes directly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># the nodes are zipped into selected pairs obj[0]&gt;obj[1], obj[2]&gt;obj[3] etc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anim</span> <span class="o">=</span> <span class="n">r9Anim</span><span class="o">.</span><span class="n">AnimFunctions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anim</span><span class="o">.</span><span class="n">snapTransform</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">time</span><span class="o">=</span><span class="n">r9Anim</span><span class="o">.</span><span class="n">timeLineRangeGet</span><span class="p">())</span>
</pre></div>
</div>
</blockquote>
<p class="rubric">Core Functions</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getChannelBoxSelection" title="Red9.core.Red9_AnimationUtils.getChannelBoxSelection"><tt class="xref py py-obj docutils literal"><span class="pre">getChannelBoxSelection</span></tt></a>()</td>
<td>return a list of attributes selected in the ChannelBox</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getChannelBoxAttrs" title="Red9.core.Red9_AnimationUtils.getChannelBoxAttrs"><tt class="xref py py-obj docutils literal"><span class="pre">getChannelBoxAttrs</span></tt></a>([node,&nbsp;asDict,&nbsp;incLocked])</td>
<td>return the status of all attrs on the given node, either as a flat list or</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getSettableChannels" title="Red9.core.Red9_AnimationUtils.getSettableChannels"><tt class="xref py py-obj docutils literal"><span class="pre">getSettableChannels</span></tt></a>([node,&nbsp;incStatics])</td>
<td>return a list of settable attributes on a given node.</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes" title="Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes"><tt class="xref py py-obj docutils literal"><span class="pre">getAnimLayersFromGivenNodes</span></tt></a>(nodes)</td>
<td>return all animLayers associated with the given nodes</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.timeLineRangeGet" title="Red9.core.Red9_AnimationUtils.timeLineRangeGet"><tt class="xref py py-obj docutils literal"><span class="pre">timeLineRangeGet</span></tt></a>([always])</td>
<td>Return the current PlaybackTimeline OR if a range is selected in the</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.timeLineRangeProcess" title="Red9.core.Red9_AnimationUtils.timeLineRangeProcess"><tt class="xref py py-obj docutils literal"><span class="pre">timeLineRangeProcess</span></tt></a>(start,&nbsp;end,&nbsp;step[,&nbsp;incEnds])</td>
<td>Simple wrapper function to take a given framerange and return a list[] containing the actual keys required for processing.</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.mergeAnimLayers" title="Red9.core.Red9_AnimationUtils.mergeAnimLayers"><tt class="xref py py-obj docutils literal"><span class="pre">mergeAnimLayers</span></tt></a>(nodes[,&nbsp;deleteBaked])</td>
<td>from the given nodes find, merge and remove any animLayers found</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.eulerSelected" title="Red9.core.Red9_AnimationUtils.eulerSelected"><tt class="xref py py-obj docutils literal"><span class="pre">eulerSelected</span></tt></a>()</td>
<td>cheap trick! for selected objects run a Euler Filter and then delete Static curves</td>
</tr>
</tbody>
</table>
<p class="rubric">Core Classes</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.AnimationUI" title="Red9.core.Red9_AnimationUtils.AnimationUI"><tt class="xref py py-obj docutils literal"><span class="pre">AnimationUI</span></tt></a>([dockUI])</td>
<td></td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.AnimFunctions" title="Red9.core.Red9_AnimationUtils.AnimFunctions"><tt class="xref py py-obj docutils literal"><span class="pre">AnimFunctions</span></tt></a>(**kws[,&nbsp;filterSettings])</td>
<td>Most of the main Animation Functions take a settings object which is</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys" title="Red9.core.Red9_AnimationUtils.RandomizeKeys"><tt class="xref py py-obj docutils literal"><span class="pre">RandomizeKeys</span></tt></a>()</td>
<td>This is a simple implementation of a Key Randomizer, designed to add</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.FilterCurves" title="Red9.core.Red9_AnimationUtils.FilterCurves"><tt class="xref py py-obj docutils literal"><span class="pre">FilterCurves</span></tt></a>()</td>
<td></td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy" title="Red9.core.Red9_AnimationUtils.MirrorHierarchy"><tt class="xref py py-obj docutils literal"><span class="pre">MirrorHierarchy</span></tt></a>(**kws[,&nbsp;nodes,&nbsp;filterSettings])</td>
<td>This class is designed to mirror pose and animation data on any given hierarchy.</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.MirrorSetup" title="Red9.core.Red9_AnimationUtils.MirrorSetup"><tt class="xref py py-obj docutils literal"><span class="pre">MirrorSetup</span></tt></a>()</td>
<td></td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.AnimationLayerContext" title="Red9.core.Red9_AnimationUtils.AnimationLayerContext"><tt class="xref py py-obj docutils literal"><span class="pre">AnimationLayerContext</span></tt></a>(srcNodes[,&nbsp;...])</td>
<td>Context Manager for merging animLayers down and restoring</td>
</tr>
<tr><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.CameraTracker" title="Red9.core.Red9_AnimationUtils.CameraTracker"><tt class="xref py py-obj docutils literal"><span class="pre">CameraTracker</span></tt></a>([fixed])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="data">
<dt id="Red9.core.Red9_AnimationUtils.RED_ANIMATION_UI_OPENCALLBACKS">
<tt class="descname">RED_ANIMATION_UI_OPENCALLBACKS</tt><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RED_ANIMATION_UI_OPENCALLBACKS" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback globals so you can fire in commands prior to the UI opening,
we use this internally to fire an asset sync call on our project pose library
and to setup some additional paths.</p>
<dl class="docutils">
<dt>def myProjectCallback(cls)</dt>
<dd>cls.poseHandlerPaths=[&#8216;MyProjects/resources/poseHandlers&#8217;]
cls.posePathProject =&#8217;My_projects/global/project/pose/lib&#8217;</dd>
</dl>
<p>r9Anim.RED_ANIMATION_UI_OPENCALLBACKS.append(myProjectCallback)</p>
<p>NOTE:: the function calls bound to the callback are passed the current instance of the animUI class
as an arg so you can modify as you need. Also when the PoseUI RMB popup menu is built, IF paths in the list
cls.poseHandlerPaths are valid, then we bind into that popup all valid poseHandler.py files
found the given path. This allow you to add custom handler types and expose them through the UI directly,
they will show up in the RMB popup as such: Fingers_poseHandler.py will show as &#8216;Add Subfolder : FINGERS&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.checkRunTimeCmds">
<tt class="descname">checkRunTimeCmds</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.checkRunTimeCmds" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the RedRuntime Command plugin is loaded.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getChannelBoxSelection">
<tt class="descname">getChannelBoxSelection</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getChannelBoxSelection" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of attributes selected in the ChannelBox</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getNodeAttrStatus">
<tt class="descname">getNodeAttrStatus</tt><big>(</big><em>node=None</em>, <em>asDict=True</em>, <em>incLocked=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getNodeAttrStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>stub function/ wrapper of getChannelBoxAttrs as the name is a
little misleading and not really what the function is doing in hindsight.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getChannelBoxAttrs">
<tt class="descname">getChannelBoxAttrs</tt><big>(</big><em>node=None</em>, <em>asDict=True</em>, <em>incLocked=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getChannelBoxAttrs" title="Permalink to this definition">¶</a></dt>
<dd><p>return the status of all attrs on the given node, either as a flat list or
a dict. As dict it contains all data which controls the lock, keyable, hidden states etc</p>
<p>statusDict={&#8216;keyable&#8217;:attrs, &#8216;nonKeyable&#8217;:attrs, &#8216;locked&#8217;:attrs}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node</strong> &#8211; given node.</li>
<li><strong>asDict</strong> &#8211; True returns a dict with keys &#8216;keyable&#8217;,&#8217;locked&#8217;,&#8217;nonKeyable&#8217; of attrs 
False returns a list (non ordered) of all attr states.</li>
<li><strong>incLocked</strong> &#8211; True by default - whether to include locked channels in the return (only valid if not asDict)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getSettableChannels">
<tt class="descname">getSettableChannels</tt><big>(</big><em>node=None</em>, <em>incStatics=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getSettableChannels" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of settable attributes on a given node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node</strong> &#8211; node to inspect.</li>
<li><strong>incStatics</strong> &#8211; whether to include non-keyable static channels (On by default).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>FIXME: BUG some Compound attrs such as constraints return invalid data for some of the
base functions using this as they can&#8217;t be simply set. Do we strip them here?
ie: pointConstraint.target.targetWeight</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes">
<tt class="descname">getAnimLayersFromGivenNodes</tt><big>(</big><em>nodes</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>return all animLayers associated with the given nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.animLayersConfirmCheck">
<tt class="descname">animLayersConfirmCheck</tt><big>(</big><em>nodes=None</em>, <em>deleteMerged=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.animLayersConfirmCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>return all animLayers associated with the given nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; nodes to check membership of animLayers. If not pass the check will be at sceneLevel</li>
<li><strong>deleteMerged</strong> &#8211; modifies the warning message</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.mergeAnimLayers">
<tt class="descname">mergeAnimLayers</tt><big>(</big><em>nodes</em>, <em>deleteBaked=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.mergeAnimLayers" title="Permalink to this definition">¶</a></dt>
<dd><p>from the given nodes find, merge and remove any animLayers found</p>
<p>FOR THE LOVE OF GOD AUTODESK, fix animLayers and give us a decent api for them,
oh, and stop building massive mel commands on the fly based on bloody optVars!!!!</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.pointOnPolyCmd">
<tt class="descname">pointOnPolyCmd</tt><big>(</big><em>nodes</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.pointOnPolyCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a BUG FIX for Maya&#8217;s command wrapping of the pointOnPolyCon
which doesn&#8217;t support namespaces. This deals with that limitation</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.eulerSelected">
<tt class="descname">eulerSelected</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.eulerSelected" title="Permalink to this definition">¶</a></dt>
<dd><p>cheap trick! for selected objects run a Euler Filter and then delete Static curves</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.animCurveDrawStyle">
<tt class="descname">animCurveDrawStyle</tt><big>(</big><em>style='simple'</em>, <em>forceBuffer=True</em>, <em>showBufferCurves=False</em>, <em>displayTangents=False</em>, <em>displayActiveKeyTangents=True</em>, <em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.animCurveDrawStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the state of the graphEditor curve display, used in the Filter and Randomizer to
simplify the display and the curve whilst processing. This allows you to also pass in
the state directly, used by the UI close event to return the editor to the last cached state</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.animRangeFromNodes">
<tt class="descname">animRangeFromNodes</tt><big>(</big><em>nodes</em>, <em>setTimeline=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.animRangeFromNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>return the extend of the animation range for the given objects
:param nodes: nodes to examine for animation data
:param setTimeLine: whether we should set the playback timeline to the extent of the found anim data</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.timeLineRangeGet">
<tt class="descname">timeLineRangeGet</tt><big>(</big><em>always=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.timeLineRangeGet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current PlaybackTimeline OR if a range is selected in the
TimeLine, (Highlighted in Red) return that instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>always</strong> &#8211; always return a timeline range, if none selected return the playbackRange.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(start,end)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.timeLineRangeProcess">
<tt class="descname">timeLineRangeProcess</tt><big>(</big><em>start</em>, <em>end</em>, <em>step</em>, <em>incEnds=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.timeLineRangeProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple wrapper function to take a given framerange and return
a list[] containing the actual keys required for processing.
This manages whether the step is negative, if so it reverses the
times. Basically just a wrapper to the python range function.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.selectKeysByRange">
<tt class="descname">selectKeysByRange</tt><big>(</big><em>nodes=None</em>, <em>animLen=False</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.selectKeysByRange" title="Permalink to this definition">¶</a></dt>
<dd><p>select the keys from the selected or given nodes within the
current timeRange or selectedTimerange</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.setTimeRangeToo">
<tt class="descname">setTimeRangeToo</tt><big>(</big><em>nodes=None</em>, <em>setall=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.setTimeRangeToo" title="Permalink to this definition">¶</a></dt>
<dd><p>set the playback timerange to be the animation range of the selected nodes.
AnimRange is determined to be the extent of all found animation for a given node</p>
</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.AnimationLayerContext">
<em class="property">class </em><tt class="descname">AnimationLayerContext</tt><big>(</big><em>srcNodes</em>, <em>mergeLayers=True</em>, <em>restoreOnExit=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationLayerContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Context Manager for merging animLayers down and restoring 
the data as is afterwards</p>
</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI">
<em class="property">class </em><tt class="descname">AnimationUI</tt><big>(</big><em>dockUI=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.show">
<em class="property">classmethod </em><tt class="descname">show</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.setPoseSelected">
<tt class="descname">setPoseSelected</tt><big>(</big><em>val=None</em>, <em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.setPoseSelected" title="Permalink to this definition">¶</a></dt>
<dd><p>set the PoseSelected cache for the UI calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSelected">
<tt class="descname">getPoseSelected</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSelected" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.buildPoseList">
<tt class="descname">buildPoseList</tt><big>(</big><em>sortBy='name'</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.buildPoseList" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of poses from the PoseRootDir, this allows us to
filter much faster as it stops all the os calls, cached list instead</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.buildFilteredPoseList">
<tt class="descname">buildFilteredPoseList</tt><big>(</big><em>searchFilter</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.buildFilteredPoseList" title="Permalink to this definition">¶</a></dt>
<dd><p>build the list of poses to show in the poseUI
TODO: hook up an order based by date in here as an option to tie into the UI</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSubFolder">
<tt class="descname">getPoseSubFolder</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSubFolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the given pose subFolder if set</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPoseDir">
<tt class="descname">getPoseDir</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPoseDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the poseDir including subPath</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPosePath">
<tt class="descname">getPosePath</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPosePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full posePath for loading</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getIconPath">
<tt class="descname">getIconPath</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getIconPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full posePath for loading</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenus_PoseHandlers">
<tt class="descname">addPopupMenus_PoseHandlers</tt><big>(</big><em>parentPopup</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenus_PoseHandlers" title="Permalink to this definition">¶</a></dt>
<dd><p>for a given list of folders containing poseHandler files add these as 
default &#8216;make subfolder&#8217; types to the main poseUI popup menu</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenusFromFolderConfig">
<tt class="descname">addPopupMenusFromFolderConfig</tt><big>(</big><em>parentPopup</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenusFromFolderConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>if the poseFolder has a poseHandler.py file see if it has the &#8216;posePopupAdditions&#8217; func
and if so, use that to extend the standard menu&#8217;s</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions">
<em class="property">class </em><tt class="descname">AnimFunctions</tt><big>(</big><em>filterSettings=None</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Most of the main Animation Functions take a settings object which is 
responsible for hierarchy processing. See r9Core.FilterNode and 
r9Core.Filter_Settings for more details. These are then passed to
the r9Core.MatchedNodeInputs class which is designed specifically
to process two hierarchies and filter them for matching pairs.
What this means is that all the anim functions deal with hierarchies
in the same manor making it very simple to extend.</p>
<dl class="docutils">
<dt>Generic filters passed into r9Core.MatchedNodeInputs class:</dt>
<dd><ul class="first last simple">
<li>setting.nodeTypes: list[] - search for child nodes of type (wraps cmds.listRelatives types=)</li>
<li>setting.searchAttrs: list[] - search for child nodes with Attrs of name</li>
<li>setting.searchPattern: list[] - search for nodes with a given nodeName searchPattern</li>
<li>setting.hierarchy: bool = lsHierarchy code to return all children from the given nodes</li>
<li>setting.metaRig: bool = use the MetaRig wires to build the initial Object list up</li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">with all the search and hierarchy settings OFF the code performs
a dumb copy, no matching and no Hierarchy filtering, copies using
selected pairs obj[0]&gt;obj[1], obj[2]&gt;obj[3] etc</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">filterSettings is also now bound to the class and if no filterSettings object
is passed into any of the calls we use the classes instance instead. Makes coding
a lot more simple as you can take an instance of AnimFunctions and just fill it
directly before running the functions.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># new functionality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">=</span><span class="n">AnimFunctions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">nodeTypes</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;nurbsCurve&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">searchPattern</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;ctrl&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">copyKeys</span><span class="p">([</span><span class="n">srcRootNode</span><span class="p">,</span> <span class="n">destRootNode</span><span class="p">])</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># old functionality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">=</span><span class="n">r9Core</span><span class="o">.</span><span class="n">FilterSettings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">nodeTypes</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;nurbsCurve&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">searchPattern</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;ctrl&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">copyKeys</span><span class="p">([</span><span class="n">srcRootNode</span><span class="p">,</span> <span class="n">destRootNode</span><span class="p">],</span> <span class="n">filterSettigns</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys_ToMultiHierarchy">
<tt class="descname">copyKeys_ToMultiHierarchy</tt><big>(</big><em>nodes=None</em>, <em>time=()</em>, <em>pasteKey='replace'</em>, <em>attributes=None</em>, <em>filterSettings=None</em>, <em>matchMethod=None</em>, <em>mergeLayers=True</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys_ToMultiHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>This isn&#8217;t the best way by far to do this, but as a quick wrapper
it works well enough. Really we need to process the nodes more intelligently
prior to sending data to the copyKeys calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys">
<tt class="descname">copyKeys</tt><big>(</big><em>*args</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy Keys is a Hi-Level wrapper function to copy animation data between
filtered nodes, either in hierarchies or just selected pairs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> &#8211; Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class&#8217;
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>pasteKey</strong> &#8211; Uses the standard pasteKey option methods - merge,replace,
insert etc. This is fed to the internal pasteKey method. Default=replace</li>
<li><strong>time</strong> &#8211; Copy over a given timerange - time=(start,end). Default is
to use no timeRange. If time is passed in via the timeLineRange() function
then it will consider the current timeLine PlaybackRange, OR if you have a
highlighted range of time selected(in red) it&#8217;ll use this instead.</li>
<li><strong>attributes</strong> &#8211; Only copy the given attributes[]</li>
<li><strong>matchMethod</strong> &#8211; arg passed to the match code, sets matchMethod used to match 2 node names</li>
<li><strong>mergeLayers</strong> &#8211; this pre-processes animLayers so that we have a single, temporary merged
animLayer to extract a compiled version of the animData from. This gets deleted afterwards.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>TODO: this needs to support &#8216;skipAttrs&#8217; param like the copyAttrs does - needed for the snapTransforms calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttrs_ToMultiHierarchy">
<tt class="descname">copyAttrs_ToMultiHierarchy</tt><big>(</big><em>nodes=None</em>, <em>attributes=None</em>, <em>skipAttrs=None</em>, <em>filterSettings=None</em>, <em>matchMethod=None</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttrs_ToMultiHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>This isn&#8217;t the best way by far to do this, but as a quick wrapper
it works well enough. Really we need to process the nodes more intelligently
prior to sending data to the copyKeys calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttributes">
<tt class="descname">copyAttributes</tt><big>(</big><em>nodes=None</em>, <em>attributes=None</em>, <em>skipAttrs=None</em>, <em>filterSettings=None</em>, <em>toMany=False</em>, <em>matchMethod=None</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy Attributes is a Hi-Level wrapper function to copy Attribute data between
filtered nodes, either in hierarchies or just selected pairs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> &#8211; Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class&#8217;
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>attributes</strong> &#8211; Only copy the given attributes[]</li>
<li><strong>skipAttrs</strong> &#8211; Copy all Settable Attributes OTHER than the given, not
used if an attributes list is passed</li>
<li><strong>matchMethod</strong> &#8211; arg passed to the match code, sets matchMethod used to match 2 node names</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.snapTransform">
<tt class="descname">snapTransform</tt><big>(</big><em>*args</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.snapTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Snap objects over a timeRange. This wraps the default hierarchy filters
so it&#8217;s capable of multiple hierarchy filtering and matching methods.
The resulting node lists are snapped over time and keyed.
:requires: SnapRuntime plugin to be available</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> &#8211; Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class&#8217;
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>time</strong> &#8211; Copy over a given timerange - time=(start,end). Default is
to use no timeRange. If time is passed in via the timeLineRange() function
then it will consider the current timeLine PlaybackRange, OR if you have a
highlighted range of time selected(in red) it&#8217;ll use this instead.</li>
<li><strong>step</strong> &#8211; Time Step between processing when using kws[&#8216;time&#8217;] range
this accepts negative values to run the time backwards if required</li>
<li><strong>preCopyKeys</strong> &#8211; Run a CopyKeys pass prior to snap - this means that
all channels that are keyed have their data taken across</li>
<li><strong>preCopyAttrs</strong> &#8211; Run a CopyAttrs pass prior to snap - this means that
all channel Values on all nodes will have their data taken across</li>
<li><strong>iterations</strong> &#8211; Number of times to process the frame.</li>
<li><strong>matchMethod</strong> &#8211; arg passed to the match code, sets matchMethod used to match 2 node names</li>
<li><strong>prioritySnapOnly</strong> &#8211; if True ONLY snap the nodes in the filterPriority list withing the filterSettings object = Super speed up!!</li>
<li><strong>snapTranslates</strong> &#8211; only snap the translate data</li>
<li><strong>snapRotates</strong> &#8211; only snap the rotate data</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">you can also pass the CopyKey kws in to the preCopy call, see copyKeys above</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">using prioritySnap with animLayers may produce unexpected results! CopyKeys doesn&#8217;t yet
deal correctly with animLayer data when copying, it will only copy from the first active layer,
really need to merge layers down first!!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.snapValidateResults">
<tt class="descname">snapValidateResults</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.snapValidateResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Run through the stored snap values to see if, once everything is processed,
all the nodes still match. ie, you snap the Shoulders and strore the results,
then at the end of the process you find that the Shoulders aren&#8217;t in the same
position due to a driver controller shifting it because of hierarchy issues.
TO IMPLEMENT</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.snap">
<em class="property">static </em><tt class="descname">snap</tt><big>(</big><em>nodes=None</em>, <em>snapTranslates=True</em>, <em>snapRotates=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.snap" title="Permalink to this definition">¶</a></dt>
<dd><p>This takes 2 given transform nodes and snaps them together. It takes into
account offsets in the pivots of the objects. Uses the API MFnTransform nodes
to calculate the data via a command plugin. This is a stripped down version
of the snapTransforms cmd</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.stabilizer">
<em class="property">static </em><tt class="descname">stabilizer</tt><big>(</big><em>nodes=None</em>, <em>time=()</em>, <em>step=1</em>, <em>trans=True</em>, <em>rots=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.stabilizer" title="Permalink to this definition">¶</a></dt>
<dd><p>This is designed with 2 specific functionalities:
If you have a single node selected it will stabilize it regardless
of it&#8217;s inputs or parent hierarchy animations
If you pass in 2 objects then it will Track B to A (same order as constraints)
This is primarily designed to aid in MoCap cleanup and character interactions.
This now also allows for Component based track inputs, ie, track this
nodes to this poly&#8217;s normal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; either single (Stabilize) or twin to track</li>
<li><strong>time</strong> &#8211; [start,end] for a frameRange</li>
<li><strong>step</strong> &#8211; int value for frame advance between process runs</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.bindNodes">
<tt class="descname">bindNodes</tt><big>(</big><em>nodes=None</em>, <em>attributes=None</em>, <em>filterSettings=None</em>, <em>bindMethod='connect'</em>, <em>matchMethod=None</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.bindNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>bindNodes is a Hi-Level wrapper function to bind animation data between
filtered nodes, either in hierarchies or just selected pairs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> &#8211; Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class&#8217;
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>attributes</strong> &#8211; Only copy the given attributes[]</li>
<li><strong>bindMethod</strong> &#8211; method of binding the data</li>
<li><strong>matchMethod</strong> &#8211; arg passed to the match code, sets matchMethod used to match 2 node names</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>#TODO: expose this to the UI&#8217;s!!!!</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAnimChannels">
<em class="property">static </em><tt class="descname">inverseAnimChannels</tt><big>(</big><em>node</em>, <em>channels</em>, <em>time=None</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAnimChannels" title="Permalink to this definition">¶</a></dt>
<dd><p>really basic method used in the Mirror calls</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAttributes">
<em class="property">static </em><tt class="descname">inverseAttributes</tt><big>(</big><em>node</em>, <em>channels</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>really basic method used in the Mirror calls</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.curveModifierContext">
<em class="property">class </em><tt class="descname">curveModifierContext</tt><big>(</big><em>initialUndo=False</em>, <em>undoFuncCache=</em><span class="optional">[</span><span class="optional">]</span>, <em>undoDepth=1</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.curveModifierContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Simple Context Manager to allow modifications to animCurves in the
graphEditor interactively by simply managing the undo stack and making
sure that selections are maintained
NOTE that this is optimized to run with a floatSlider and used in both interactive
Randomizer and FilterCurves</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>initialUndo</strong> &#8211; on first process whether undo on entry to the context manager</li>
<li><strong>undoFuncCache</strong> &#8211; functions to catch in the undo stack</li>
<li><strong>undoDepth</strong> &#8211; depth of the undo stack to go to</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.curveModifierContext.undoCall">
<tt class="descname">undoCall</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.curveModifierContext.undoCall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys">
<em class="property">class </em><tt class="descname">RandomizeKeys</tt><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This is a simple implementation of a Key Randomizer, designed to add
noise to animations.</p>
<p>TODO: add in methods to generate secades type of flicking randomization, current
implementation is too regular.</p>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.noiseFunc">
<tt class="descname">noiseFunc</tt><big>(</big><em>initialValue</em>, <em>randomRange</em>, <em>damp</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.noiseFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>really simple noise func, maybe I&#8217;ll flesh this out at somepoint</p>
</dd></dl>

<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.showOptions">
<em class="property">classmethod </em><tt class="descname">showOptions</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.showOptions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.interactiveWrapper">
<tt class="descname">interactiveWrapper</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.interactiveWrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.addNoise">
<tt class="descname">addNoise</tt><big>(</big><em>curves</em>, <em>time=()</em>, <em>step=1</em>, <em>currentKeys=True</em>, <em>randomRange=</em><span class="optional">[</span>, <em>-1</em>, <em>1</em><span class="optional">]</span>, <em>damp=1</em>, <em>percent=False</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.addNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple noise function designed to add noise to keyframed animation data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>curves</strong> &#8211; Maya animCurves to process</li>
<li><strong>time</strong> &#8211; timeRange to process</li>
<li><strong>step</strong> &#8211; frame step used in the processor</li>
<li><strong>currentKeys</strong> &#8211; ONLY randomize keys that already exists</li>
<li><strong>randomRange</strong> &#8211; range [upper, lower] bounds passed to teh randomizer</li>
<li><strong>damp</strong> &#8211; damping passed into the randomizer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.curveMenuFunc">
<tt class="descname">curveMenuFunc</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.curveMenuFunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves">
<em class="property">class </em><tt class="descname">FilterCurves</tt><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.show">
<em class="property">classmethod </em><tt class="descname">show</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.simplifyWrapper">
<tt class="descname">simplifyWrapper</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.simplifyWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>straight simplify of curves using a managed cmds.simplfy call</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.resampleCurves">
<tt class="descname">resampleCurves</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.resampleCurves" title="Permalink to this definition">¶</a></dt>
<dd><p>straight resample of curves using a managed cmds.bakeResults call
:param args[0]: this is the step used in the resample</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.snapAnimCurvesToFrms">
<tt class="descname">snapAnimCurvesToFrms</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.snapAnimCurvesToFrms" title="Permalink to this definition">¶</a></dt>
<dd><p>called after the interaction filters, snap</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy">
<em class="property">class </em><tt class="descname">MirrorHierarchy</tt><big>(</big><em>nodes=</em><span class="optional">[</span><span class="optional">]</span>, <em>filterSettings=None</em>, <em>**kws</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This class is designed to mirror pose and animation data on any given
hierarchy. The hierarchy is filtered like everything else in the Red9
pack, using a filterSettings node thats passed into the __init__</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">=</span><span class="n">MirrorHierarchy</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="bp">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#set the settings object to run metaData</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">metaRig</span><span class="o">=</span><span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">printSettings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">.</span><span class="n">mirrorData</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s">&#39;Anim&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;&gt;# Useful snippets:
&gt;&gt;&gt;# offset all selected nodes mirrorID by 5
&gt;&gt;&gt;mirror=r9Anim.MirrorHierarchy()
&gt;&gt;&gt;mirror.incrementIDs(cmds.ls(sl=True), offset=5)
&gt;&gt;&gt;
&gt;&gt;&gt;# set all the mirror axis on the selected
&gt;&gt;&gt;for node in cmds.ls(sl=True):
&gt;&gt;&gt;    mirror.setMirrorIDs(node,axis=&#8217;translateX,rotateY,rotateZ&#8217;)
&gt;&gt;&gt;
&gt;&gt;&gt;# copy mirrorId&#8217;s from one node to another
&gt;&gt;&gt;for src, dest in zip(srcNodes, destNodes):
&gt;&gt;&gt;    mirror.copyMirrorIDs(src,dest)</p>
<p>TODO: We need to do a UI for managing these marker attrs and the Index lists</p>
<dl class="docutils">
<dt>TODO: allow the mirror block to include an offset so that if you need to inverse AND offset </dt>
<dd>by 180 to get left and right working you can still do so.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; initial nodes to process</li>
<li><strong>filterSettings</strong> &#8211; filterSettings object to process hierarchies</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.setMirrorIDs">
<tt class="descname">setMirrorIDs</tt><big>(</big><em>node</em>, <em>side=None</em>, <em>slot=None</em>, <em>axis=None</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.setMirrorIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add/Set the default attrs required by the MirrorSystems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node</strong> &#8211; nodes to take the attrs</li>
<li><strong>side</strong> &#8211; valid values are &#8216;Centre&#8217;,&#8217;Left&#8217; or &#8216;Right&#8217; or 0, 1, 2</li>
<li><strong>slot</strong> &#8211; bool Mainly used to pair up left and right paired controllers</li>
<li><strong>axis</strong> &#8211; eg &#8216;translateX,rotateY,rotateZ&#8217; simple comma separated string
If this is set then it overrides the default mirror axis.
These are the channels who have their attribute/animCurve values inversed
during mirror. NOT we allow axis to have a null string &#8216;None&#8217; so it can be
passed in blank when needed</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">slot index can&#8217;t be ZERO</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.deleteMirrorIDs">
<tt class="descname">deleteMirrorIDs</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.deleteMirrorIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the given node from the MirrorSystems</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.copyMirrorIDs">
<tt class="descname">copyMirrorIDs</tt><big>(</big><em>src</em>, <em>dest</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.copyMirrorIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy mirrorIDs between nodes, note the nodes list passed in is zipped into pairs
This will copy all the mirrorData from src to dest, useful for copying data between 
systems when the MirrorMap fails due to naming.</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.incrementIDs">
<tt class="descname">incrementIDs</tt><big>(</big><em>nodes</em>, <em>offset</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.incrementIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>offset the mirrorIndex on selected nodes by a given offset</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getNodes">
<tt class="descname">getNodes</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of nodes to start processing</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSide">
<tt class="descname">getMirrorSide</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSide" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an enum Attr to denote the Side of the controller in the Mirror system</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorIndex">
<tt class="descname">getMirrorIndex</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>get the mirrorIndex, these slots are used to denote matching pairs
such that Left and Right Controllers to switch will have the same index</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorCompiledID">
<tt class="descname">getMirrorCompiledID</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorCompiledID" title="Permalink to this definition">¶</a></dt>
<dd><p>This return the mirror data in a compiled mannor for the poseSaver
such that mirror data  for a node : Center, ID 10 == Center_10</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorAxis">
<tt class="descname">getMirrorAxis</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorAxis" title="Permalink to this definition">¶</a></dt>
<dd><p>get any custom attributes set at node level to inverse, if none found
return the default axis setup in the __init__
NOTE: if mirrorAxis attr has been added to the node but is empty then
no axis will be inversed at all. If the attr doesn&#8217;t exist then the
default inverse axis will be used</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSets">
<tt class="descname">getMirrorSets</tt><big>(</big><em>nodes=None</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSets" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the given nodes into the mirrorDict
such that {&#8216;Centre&#8217;:{id:node,},&#8217;Left&#8217;:{id:node,},&#8217;Right&#8217;:{id:node,}}
:param nodes: only process a given list of nodes, else run the filterSettings</p>
<blockquote>
call from the initial nodes passed to the class</blockquote>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.printMirrorDict">
<tt class="descname">printMirrorDict</tt><big>(</big><em>short=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.printMirrorDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty print the Mirror Dict</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.switchPairData">
<tt class="descname">switchPairData</tt><big>(</big><em>objA</em>, <em>objB</em>, <em>mode='Anim'</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.switchPairData" title="Permalink to this definition">¶</a></dt>
<dd><p>take the left and right matched pairs and exchange the animData
or poseData across between them</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.makeSymmetrical">
<tt class="descname">makeSymmetrical</tt><big>(</big><em>nodes=None</em>, <em>mode='Anim'</em>, <em>primeAxis='Left'</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.makeSymmetrical" title="Permalink to this definition">¶</a></dt>
<dd><p>similar to the mirrorData except this is designed to take the data from an object in
one side of the mirrorDict and pass that data to the opposite matching node, thus
making the anim/pose symmetrical according to the mirror setups.
Really useful for facial setups!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; optional specific listy of nodes to process, else we run the filterSetting code 
on the initial nodes past to the class</li>
<li><strong>mode</strong> &#8211; &#8216;Anim&#8217; ot &#8216;Pose&#8217; process as a single pose or an animation</li>
<li><strong>primeAxis</strong> &#8211; &#8216;Left&#8217; or &#8216;Right&#8217; whether to take the data from the left or right side of the setup</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.mirrorData">
<tt class="descname">mirrorData</tt><big>(</big><em>nodes=None</em>, <em>mode='Anim'</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.mirrorData" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the FilterSettings obj find all nodes in the return that have
the mirrorSide attr, then process the lists into Side and Index slots
before Mirroring the animation data. Swapping left for right and
inversing the required animCurves</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> &#8211; optional specific listy of nodes to process, else we run the filterSetting code 
on the initial nodes past to the class</li>
<li><strong>mode</strong> &#8211; &#8216;Anim&#8217; ot &#8216;Pose&#8217; process as a single pose or an animation</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>TODO: Issue where if nodeA on Left has NO key data at all, and nodeB on right
does, then nodeB will be left incorrect. We need to clean the data if there
are no keys.</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.saveMirrorSetups">
<tt class="descname">saveMirrorSetups</tt><big>(</big><em>filepath</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.saveMirrorSetups" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the mirrorSetups out to file</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.loadMirrorSetups">
<tt class="descname">loadMirrorSetups</tt><big>(</big><em>filepath</em>, <em>nodes=None</em>, <em>clearCurrent=True</em>, <em>matchMethod='base'</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.loadMirrorSetups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.MirrorSetup">
<em class="property">class </em><tt class="descname">MirrorSetup</tt><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.MirrorSetup.show">
<em class="property">classmethod </em><tt class="descname">show</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorSetup.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.CameraTracker">
<em class="property">class </em><tt class="descname">CameraTracker</tt><big>(</big><em>fixed=True</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.CameraTracker" title="Permalink to this definition">¶</a></dt>
<dd><dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.CameraTracker.cameraTrackView">
<em class="property">static </em><tt class="descname">cameraTrackView</tt><big>(</big><em>start=None</em>, <em>end=None</em>, <em>step=None</em>, <em>fixed=True</em>, <em>keepOffset=False</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.CameraTracker.cameraTrackView" title="Permalink to this definition">¶</a></dt>
<dd><p>CameraTracker is a simple wrap over the internal viewFit call but this manages the data
over time. Works by taking the current camera, in the current 3dView, and fitting it to
frame the currently selected objects per frame, or rather per frameStep.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> &#8211; start frame</li>
<li><strong>end</strong> &#8211; end frame</li>
<li><strong>step</strong> &#8211; frame step to increment between fit</li>
<li><strong>fixed</strong> &#8211; switch between tracking or panning framing fit</li>
<li><strong>keepOffset</strong> &#8211; keep the current camera offset rather than doing a full viewFit</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>TODO:: </dt>
<dd>add option for cloning the camera rather than using the current directly</dd>
</dl>
</dd></dl>

<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.CameraTracker.show">
<em class="property">classmethod </em><tt class="descname">show</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.CameraTracker.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData">
<em class="property">class </em><tt class="descname">ReconnectAnimData</tt><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData.show">
<em class="property">classmethod </em><tt class="descname">show</tt><big>(</big><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectReferencedAnimData">
<em class="property">static </em><tt class="descname">reConnectReferencedAnimData</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectReferencedAnimData" title="Permalink to this definition">¶</a></dt>
<dd><p>As per my blog posts on Lost Animaton&#8217;s see here for details:
<a class="reference external" href="http://markj3d.blogspot.co.uk/2011/07/lost-animation-when-loading-referenced.html">http://markj3d.blogspot.co.uk/2011/07/lost-animation-when-loading-referenced.html</a></p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectAnimDataBlind">
<em class="property">static </em><tt class="descname">reConnectAnimDataBlind</tt><big>(</big><em>stripNamespace=True</em>, <em>stripLayerNaming=False</em>, <em>*args</em><big>)</big><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectAnimDataBlind" title="Permalink to this definition">¶</a></dt>
<dd><p>Blind reconnect based on names. As per my blog posts on Lost Animaton&#8217;s see here for details:
<a class="reference external" href="http://markj3d.blogspot.co.uk/2012/09/lost-animation-part2.html">http://markj3d.blogspot.co.uk/2012/09/lost-animation-part2.html</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stripNamespace</strong> &#8211; Change this to False if the curves are not in the rootNamespace but
in the sameNamespace as the controllers.</li>
<li><strong>stripLayerNaming</strong> &#8211; allows for the additional &#8216;Merged_Layer_inputB&#8217; naming conventions</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Red9_AnimationUtils</a><ul>
<li><a class="reference internal" href="#processnodes">ProcessNodes</a></li>
<li><a class="reference internal" href="#animfunctions-example">AnimFunctions example:</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">Welcome to Red9&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Red9_Audio.html"
                        title="next chapter">Red9_Audio</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/red9templates/Red9_AnimationUtils.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Red9_Audio.html" title="Red9_Audio"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to Red9’s documentation!"
             >previous</a> |</li>
        <li><a href="../index.html">Red9 v2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Mark Jackson.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0b2.
    </div>
  </body>
</html>